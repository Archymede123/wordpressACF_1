(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,a,t){e.exports={App:"App_App__2lytX",Header:"App_Header__3jkzR",Step1:"App_Step1__2DA8d",Step2:"App_Step2__21OzW",Step3:"App_Step3__2DIFs",UploadingContainer:"App_UploadingContainer__2UOBO",UploadMessage:"App_UploadMessage__39RFB",FileInfo:"App_FileInfo__3Rw_5",Price:"App_Price__yhFk2",PriceTime:"App_PriceTime__2hGCi",Help:"App_Help__eIzBx",Slider:"App_Slider__29nd7",Continue:"App_Continue__3oQ2B",Error:"App_Error__3ol6k"}},233:function(e,a){},237:function(e,a,t){e.exports={Holder:"FileInfo_Holder__3KO98"}},239:function(e,a,t){e.exports={Container:"PriceDisplay_Container__35VZx"}},240:function(e,a,t){e.exports={Container:"TimeDisplay_Container__3rdoo"}},245:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAQCAYAAAAS7Y8mAAAAAXNSR0IArs4c6QAAAjxJREFUOBGVVF1IFFEUPufO6K41tbqIkruYUqyR0g9BBBpYT+G21sv20kuvkbb6ENLbKgT5ELGGzz3082IvIexDP5BBpEaEEP1sGYRuD63gT0Q1OzOney/ONJOzg56Hued+5/u+mXNm7iiwyWhPZ7VQ+2Fl7d20sRkJBpFazg60lHVjAAjOEdAuQLS44DMhPNJYaLgweWOpkr6icVOyrxcsuseFmp8YEVcYsAsL+bGHvnU/sDmV6TJMcwqImF/dxrj5LwTlxGI+N2Nj9qraiVh567V6uXzKMI3rvH2P6Z5Yg6TOF787EiKqATTvcCDhgOuJM4pYsv8ib/0mn2Xof5IwnRjNSDg9lAO3uQCZyroXJ29NuXWK2MSTl4aIm/LU04Go2aaN0QhoNWHo6ToET2bewvKPn6IsgwiO7dx7NFqfOP515dPLVQGy3am+VrIgKxk+l1hDFB48/TdCkQvME0T7eKcjOv2ei5++3CNqzDQxRQBhD9G1ef7mAzx7/d5BRC4wv+A+EbLMu629mUbVAjrgR3Jjf3QDiqVlCYk8KPhY6nTDOC9mWgoidh5MgKoocCV3X9K0bWEQ2Iu5QoAMO1SG+Mrit6kU9ZEdUF3lfad6OfipkXABu7NZtTC7NM0Pw5FK5lvECRXolN9x85n+/aZOj/mbbdqiyUY6wti3/HhGfserH2dLdW0nbxPotfxHI45YZKMiEOH/JZhnDK8W8+PXBNM5eW5ZPD0YtXTc7saC8nB11dqXiVF5MGzeX6Mow//21QIRAAAAAElFTkSuQmCC"},248:function(e,a,t){e.exports={Outline:"Button_Outline__69mNc"}},251:function(e,a,t){e.exports=t(588)},258:function(e,a){},46:function(e,a,t){e.exports={DragPrompt:"UploadField_DragPrompt__1aH3X",Accept:"UploadField_Accept__o3X77",flash:"UploadField_flash__1x7Uq",Button:"UploadField_Button__2iO5W",Grow:"UploadField_Grow__2q3Sc",Reject:"UploadField_Reject__1gh3o",Error:"UploadField_Error__2UNll",ProgressHolder:"UploadField_ProgressHolder__3yajX",ProgressBar:"UploadField_ProgressBar__PoswE",Uploading:"UploadField_Uploading__9_fRO"}},471:function(e,a){},477:function(e,a){},484:function(e,a,t){},486:function(e,a,t){},488:function(e,a,t){},552:function(e,a,t){},581:function(e,a){},588:function(e,a,t){"use strict";t.r(a);var n=t(121),r=t(1),i=t.n(r),o=t(12),l=t.n(o),s=(t(256),t(259),t(260),t(232)),c=t.n(s),d=(t(262),t(92)),u=t.n(d),m=t(28),p=t(168),f=t.n(p),_=(t(484),t(486),t(488),t(79)),h=t(120),v=t(81),E=t(80),g=t(82),b=t(235),A=t.n(b),y=t(20),x=t.n(y),O=t(236),w=t(237),C=t.n(w),N=function(e){var a=e.path,t=e.words,n=Object(O.basename)(a);return i.a.createElement("div",{className:C.a.Holder},i.a.createElement("dl",null,i.a.createElement("dt",null,"Votre fichier :"),i.a.createElement("dd",null,n),i.a.createElement("dt",null,"Nombre de mot :"),i.a.createElement("dd",null,i.a.createElement(m.a,{id:"Order.Words",defaultMessage:"{words, number} {words, plural, one {word} other {words}}",values:{words:t}}))))},k=t(238),F=t.n(k),T=t(239),P=t.n(T),j=function(e){var a=e.price;return i.a.createElement("dl",{className:P.a.Container},i.a.createElement("dt",null,i.a.createElement(m.a,{id:"Order.Confirm.Price"})),i.a.createElement("dd",null,F.a.formatMoney(a,"",2,".",",")," \u200e\u20ac"))},S=t(240),B=t.n(S),U={en:{calendar:{sameElse:"dddd Do [at] LT"}},fr:{weekdays:"Dimanche_Lundi_Mardi_Mercredi_Jeudi_Vendredi_Samedi".split("_"),calendar:{sameElse:"dddd Do [\xe0] LT"}}},D="Europe/Paris",M={"application/msword":"msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"msword","application/vnd.ms-excel":"msexcel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"msexcel","application/vnd.ms-powerpoint":"mspowerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation":"mspowerpoint","text/plain":"text","text/richtext":"text"},H=function(e){var a=e.time;return a.locale("fr"),i.a.createElement("dl",{className:B.a.Container},i.a.createElement("dt",null,"Livraison"),i.a.createElement("dd",null,a.calendar(null,{sameDay:"[Aujourd'hui a] LT",nextDay:"[Demain a] LT",lastDay:"[Hier a] LT",nextWeek:"dddd [a] LT",sameElse:"DD/MM/YYYY"})))},z=t(249),I=t(85),W=t.n(I),Y=(t(552),function(e){function a(){var e,t;Object(_.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(v.a)(this,(e=Object(E.a)(a)).call.apply(e,[this].concat(r)))).render=function(){var e=t.props,a=e.input,n=e.marks,r=e.max,o=e.onBeforeChange,l=e.onAfterChange;return a.value||(a.value=0),i.a.createElement("div",{className:W.a.Container},i.a.createElement("div",{className:"section-slider__slider"},i.a.createElement(z.a,Object.assign({marks:n,max:r,onBeforeChange:o,onAfterChange:l,trackStyle:{backgroundColor:"#F6446B"},railStyle:{backgroundColor:"#1A496B"}},a))),i.a.createElement("div",{className:W.a.Tips},i.a.createElement("span",{className:W.a.Fast},"Rapide"),i.a.createElement("span",{className:W.a.Help},"Faites glisser le curseur"),i.a.createElement("span",{className:W.a.Cheap},"Economique")))},t}return Object(g.a)(a,e),a}(r.Component)),R=t(46),L=t.n(R),V=t(250),X=t(245),G=t.n(X),Q=function(e){function a(){return Object(_.a)(this,a),Object(v.a)(this,Object(E.a)(a).apply(this,arguments))}return Object(g.a)(a,e),Object(h.a)(a,[{key:"render",value:function(){var e=this.props,a=e.accept,t=e.className,n=e.handleError,o=e.handleFile,l=e.uploading,s=e.progress,c=e.disabled;return i.a.createElement(V.a,{accept:a,className:t,acceptClassName:L.a.Accept,rejectClassName:L.a.Reject,onDropRejected:n,onDropAccepted:o,disabled:c},l?i.a.createElement(r.Fragment,null,i.a.createElement("div",{className:L.a.ProgressHolder},i.a.createElement("span",{className:L.a.ProgressBar,style:{width:s+"%"}})),i.a.createElement("div",{className:L.a.Uploading},i.a.createElement(m.a,{id:"Order.Uploading"}))):i.a.createElement(r.Fragment,null,i.a.createElement("div",{className:L.a.DragPrompt},i.a.createElement("img",{src:G.a,alt:"fichier"}),i.a.createElement("p",null,"D\xe9posez votre",i.a.createElement("br",null)," fichier \xe0 traduire ",i.a.createElement("br",null),"ici")),i.a.createElement("p",{className:L.a.Grow},"ou"),i.a.createElement("div",{className:L.a.Button},i.a.createElement("p",null,"ajouter un fichier"))))}}]),a}(i.a.Component);Q.defaultProps={accept:"",handleFile:function(){},handleError:function(){},uploading:!1,progress:0,disabled:!1};var q=Q,K=t(169),J=t.n(K),Z=t(246),$=t(170),ee=t.n($),ae=t(247),te=t.n(ae)()(),ne={},re=ee()().configure(ee.a.socketio(te,{timeout:2e4})),ie=function(){var e=Object(Z.a)(J.a.mark(function e(){var a;return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.service("settings").find({query:{key:["dayStart","dayEnd","minLength","increments","searchTime","extendAfter","extendBy","searchTime","bigJob","basePrice","priceBreaks","minFastPrice","minSlowPrice"]}});case 2:if(!(a=e.sent)){e.next=6;break}return ne=a.reduce(function(e,a){return e[a.key]=a.value,e},{}),e.abrupt("return",ne);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),oe=function(){return ne},le=function(){return oe().dayStart},se=function(){return oe().dayEnd},ce=t(22),de=t.n(ce);function ue(e){var a=de.a.tz(D).set(le(e)),t=de.a.tz(D).set(se(e));return de.a.duration(t.diff(a)).asHours()}var me=function e(a){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=(t=t?de.a.tz(t,D):de.a.tz(D)).clone().set(le(a)),i=t.clone().set(se(a)),o=de.a.duration(i.diff(r)).asHours();if(t.isoWeekday()>=6&&(t=t.add({days:8-t.isoWeekday()})),t.isBefore(r)&&(t=r),t.isSameOrAfter(i)&&(t=r.clone().add({days:1})).isoWeekday()>=6&&(t=t.add({days:8-t.isoWeekday()})),n){for(n=de.a.duration(n);n.asHours()>=o;)t.add({days:1}),t.isoWeekday()>=6&&(t=t.add({days:8-t.isoWeekday()})),n.subtract({hours:o});t.add(n)}return i=t.clone().set(se(a)),t.isAfter(i)&&(t=e(a,t,de.a.duration(t.diff(i)))),t.isoWeekday()>=6&&(t=t.add({days:8-t.isoWeekday()})),t},pe=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=de.a.duration({hours:a*oe().extendBy+oe().searchTime});return me(e,t,function(e,a,t){return de.a.duration(Math[t](+e/+a)*+a)}(n,de.a.duration(30,"minutes"),"ceil"))},fe=function(e,a){var t=a>oe().extendAfter?(a-oe().extendAfter)*oe().extendBy:0;return de.a.duration({hours:Math.ceil(t)+oe().minLength*ue(e)})},_e=function(e,a,t,n,r){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=pe(e,a,i),l=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=pe(e,a,t),r=fe(e,a);return me(e,n,r)}(e,a,i),s={0:t},c=0;do{c++,o=me(e,o,{minutes:oe().increments})}while(o.isSameOrBefore(l));return s[--c]=n,{marks:s,max:c}},he=function(e,a){for(var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;a-- >0;)t=me(e,t,{minutes:oe().increments});return t},ve=function(e,a,t){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;a=me(e,a);for(var r=(n=me(e,n)).clone().set(se(e)),i=ue(e),o=de.a.duration();r.isBefore(a);)o.add(r.diff(n)),r=(n=me(e,n.clone().set(le(e)),{hours:i})).clone().set(se(e));return o.add(a.diff(n)),o.subtract({hours:t*oe().extendBy+oe().searchTime})},Ee={};var ge=function(e,a,t,r,i){var o=function(e,a,t){var r=a.asMinutes();if(Ee[r])return Ee[r];var i,o,l=Object(n.a)(oe().priceBreaks),s=!0,c=!1,d=void 0;try{for(var u,m=l[Symbol.iterator]();!(s=(u=m.next()).done);s=!0){var p=u.value;if(9007199254740991===p.mst&&(p.mst=fe(e,t).asMinutes()),p.mst===r)o=Object.assign({},p);else{if(p.mst>r){if(i=Object.assign({},p),o){var f=(r-o.mst)/(p.mst-o.mst);i.uplift=o.uplift-(o.uplift-p.uplift)*f,i.margin=o.margin-(o.margin-p.margin)*f}return Ee[r]=i,i}o=Object.assign({},p)}}}catch(_){c=!0,d=_}finally{try{s||null==m.return||m.return()}finally{if(c)throw d}}return Ee[r]=o,o}(e,a,t),l=oe().basePrice+oe().basePrice*o.uplift;return function(e){var a=Math.pow(10,2),t=e*a;return Math.round(t)/a}(Math.max(t*l,be(e,r,i)))},be=function(e,a,t){return(t-a)/t*(oe().minFastPrice-oe().minSlowPrice)+oe().minSlowPrice};var Ae=t(248),ye=t.n(Ae),xe=function(e){var a=e.children,t=e.onClick;return i.a.createElement("div",{onClick:t,className:ye.a.Outline},a)},Oe=t(86),we=t.n(Oe),Ce=function(e){var a=e.number,t=e.title,n=e.content;return i.a.createElement("div",{className:we.a.Container},i.a.createElement("div",{className:we.a.Title},i.a.createElement("p",{className:we.a.Number},a),i.a.createElement("p",{className:we.a.TitleText},t)),i.a.createElement("p",{className:we.a.Content},n))},Ne=function(e){function a(){var e,t;Object(_.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=Object(v.a)(this,(e=Object(E.a)(a)).call.apply(e,[this].concat(r)))).state={file:"87096a61765db56baf052e3c7204632fc0a41e797dc16db17dc7c56ee27e6294/monfichierdetraduction.docx",uploading:!1,progress:0,words:200,error:null,time:40},t.handleError=function(){t.setState({error:t.props.intl.formatMessage({id:"Order.MobileFile.UnacceptedType"})})},t.handleFile=function(e){if(e.length){var a=e[0];t.setState({uploading:!0}),A.a.post("/uploads").attach("uri",a,a.name).on("progress",function(e){t.setState({progress:e.percent})}).end(function(e,a){e?t.setState({file:null,error:e.message,progress:0,uploading:!1}):t.setState({error:null,progress:0,words:a.body.words,file:a.body.id,uploading:!1})})}},t.className=function(){return t.state.uploading?x.a.UploadingContainer:t.state.file?x.a.FileContainer:x.a.Dropzone},t.handleClick=function(){document.cookie="quotedOrderFile=".concat(t.state.file,"; domain=mybrian.fr; path=/;"),document.cookie="quotedOrderTime=".concat(t.state.time,"; domain=mybrian.fr; path=/;"),window.location.href="https://client.mybrian.fr/order/new"},t}return Object(g.a)(a,e),Object(h.a)(a,[{key:"render",value:function(){var e=this,a=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=_e(null,a),n=t.marks,r=t.max,i=pe(null,a),o=he(null,e,i),l=ve(null,o,a);return{words:a,marks:n,max:r,start:i,deadline:o,price:ge(null,l,a,e,r)}}(this.state.time,this.state.words),t=a.marks,n=a.max,r=a.start,o=a.deadline,l=a.price;return o.locale("fr"),i.a.createElement("div",{className:x.a.App},i.a.createElement("div",{className:x.a.Header},i.a.createElement("h3",null,"Obtenez un devis en quelques secondes")),i.a.createElement("div",{className:x.a.Step1},i.a.createElement(Ce,{number:1,title:"Chargez votre fichier",content:"Formats accept\xe9s :  .xlsx  .pptx .docx"})),i.a.createElement("div",{className:x.a.Step2},i.a.createElement(Ce,{number:2,title:"Choisissez le prixr",content:"Faites glisser le curseur pour ajuster votre ratio temps / prix id\xe9al"})),i.a.createElement("div",{className:x.a.Step3},i.a.createElement(Ce,{number:3,title:"Validez votre commande",content:"Cr\xe9ez un compte et confirmez votre commande"})),i.a.createElement("div",{className:x.a.FileContainer},this.state.error&&i.a.createElement("div",{className:x.a.Error},this.state.error),i.a.createElement(q,{accept:Object.keys(M).toString(),className:x.a.FileInfo,handleFile:this.handleFile,handleError:this.handleError,uploading:this.state.uploading,progress:this.state.progress}),!!this.state.file&&i.a.createElement(N,{path:this.state.file,words:this.state.words})),i.a.createElement("div",{className:x.a.Price},i.a.createElement("div",{className:x.a.PriceTime},i.a.createElement(j,{price:l}),i.a.createElement(H,{time:o})),i.a.createElement(Y,{marks:t,max:n,start:r,meta:{},input:{value:this.state.time,onChange:function(a){return e.setState({time:a})}}})),i.a.createElement("div",{className:x.a.Continue},i.a.createElement(xe,{onClick:this.handleClick},"Commander ma traduction")))}}]),a}(r.Component),ke=Object(m.d)(Ne);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));Object(m.c)(Object(n.a)(c.a));var Fe=(U.fr||void 0).format;u.a.locale("fr",Fe),ie().then(function(){l.a.render(i.a.createElement(m.b,{locale:"fr",messages:f.a.fr},i.a.createElement(ke,null)),document.getElementById("root"))}).catch(function(){l.a.render(i.a.createElement(m.b,{locale:"fr",messages:f.a.fr},i.a.createElement("div",{style:{fontFamily:"Arial, sans-serif"}},i.a.createElement(m.a,{id:"Error.Error.detail"}))),document.getElementById("root"))}),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},85:function(e,a,t){e.exports={Container:"TimePickerField_Container__dUDYA",Tips:"TimePickerField_Tips__gb-AY",Fast:"TimePickerField_Fast__3mRXF",Cheap:"TimePickerField_Cheap__2SOOi",slider:"TimePickerField_slider__3PXKN",bounce:"TimePickerField_bounce__2OEjK"}},86:function(e,a,t){e.exports={Container:"Step_Container__wHBft",Title:"Step_Title__3GiJu",Number:"Step_Number__1QvLN",TitleText:"Step_TitleText__1_fYQ",Content:"Step_Content__3IwdX"}}},[[251,2,1]]]);
//# sourceMappingURL=main.f7c2d997.chunk.js.map